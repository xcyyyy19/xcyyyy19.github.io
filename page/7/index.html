<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Pravite Home</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Pravite Home" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Pravite Home</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
        <img
          src="/images/ayer.svg"
          class="cover-logo"
          alt="Pravite Home"
        />
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['群英荟萃，萝卜开会', '圣火昭昭，圣火耀耀，凡我弟子，喵喵喵喵', '不跟唱？您诫过毒吧'],
        startDelay: 30,
        typeSpeed: 100,
        loop: true,
        backSpeed: 50,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  
<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content">【网页完善中，1.点击标签-&gt;必看-&gt;网页完善ToDoList。 2.或主页拉到最下方了解进度。】</div>
</div>


<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-前端学习笔记/HTML/Q1-HTML-Note2"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/28/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML/Q1-HTML-Note2/"
    >HTML学习笔记-2基础标签</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/28/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML/Q1-HTML-Note2/" class="article-date">
  <time datetime="2023-03-28T03:31:47.000Z" itemprop="datePublished">2023-03-28</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>HTML学习笔记-2基础标签</h1>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">0.定义预格式化的文本         &lt;pre&gt;&lt;/pre&gt;    比如以下内容中，空格空行都会保留</span><br><span class="line">1.空格与段内换行            &amp;nbsp;&lt;br/&gt;</span><br><span class="line"> 无论你在 HTML 元素的内容中使用多少空格（包括一个或多个空白字符或换行），</span><br><span class="line"> 当渲染这些代码的时候，HTML 解释器会将连续出现的空白字符减少为一个单独的空格符。</span><br><span class="line">2.行内组合                &lt;span&gt;&lt;/span&gt;</span><br><span class="line">3.水平线                  &lt;hr/&gt;</span><br><span class="line">4.段                     &lt;p&gt;&lt;/p&gt;</span><br><span class="line">5.强调      &lt;strong&gt;&lt;/strong&gt;</span><br><span class="line">6.斜体      &lt;em&gt;&lt;/em&gt;</span><br><span class="line">7.n级标题                 &lt;h1&gt;一级标题只能有一个&lt;/h1&gt;</span><br><span class="line">8.标识页面的主要部分  &lt;main&gt;&lt;/main&gt;</span><br><span class="line">    HTML5 有些元素能够指明不同的内容区域。</span><br><span class="line">     这些元素能让你的 HTML 易于阅读，并有助于搜索引擎优化（SEO）和无障碍访问。</span><br><span class="line">9.表示预定义格式文本		&lt;pre&gt;&lt;/pre&gt;</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;pre&gt;</span><br><span class="line"></span><br><span class="line">    &lt;p&gt;1.空格与换行</span><br><span class="line">        这里将会有三个空格&amp;nbsp;&amp;nbsp;&amp;nbsp;然后换行</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        换行结束</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p&gt;2.行内组合</span><br><span class="line">        这里的&lt;span&gt;标签用于标记，被标记的文字将可以通过css进行格式化的美化&lt;/span&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line"></span><br><span class="line">    &lt;p&gt;3.hr水平线</span><br><span class="line">        以下是水平线</span><br><span class="line">      &lt;hr/&gt;</span><br><span class="line">      水平线结束</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/pre&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-前端学习笔记/HTML/Q1-HTML-Note1"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/28/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML/Q1-HTML-Note1/"
    >HTML学习笔记-1基础</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/28/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML/Q1-HTML-Note1/" class="article-date">
  <time datetime="2023-03-28T03:30:47.000Z" itemprop="datePublished">2023-03-28</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>HTML学习笔记-1基础</h1>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1.&lt;标签名 属性1=“值1” 属性2=“值2”&gt;</span><br><span class="line">2.元素==标签+内容</span><br><span class="line">3.Dom树：文档对象模型，以树形的方式直观的表示标签嵌套结构</span><br><span class="line">4.html不区分大小写</span><br><span class="line">5.文档基础</span><br><span class="line">&lt;!DOCTYPE html&gt;:</span><br><span class="line">声明文档类型。需要包含它才能使其他东西正常工作。</span><br><span class="line"></span><br><span class="line">&lt;html&gt;&lt;/html&gt;:</span><br><span class="line">这个元素包裹了页面中所有的内容，有时被称为根元素。</span><br><span class="line"></span><br><span class="line">&lt;head&gt;&lt;/head&gt;:</span><br><span class="line">这个元素是一个容器，它包含了所有你想包含在 HTML 页面中但不在 HTML 页面中显示的内容。</span><br><span class="line">这些内容包括你想在搜索结果中出现的关键字和页面描述、CSS 样式、字符集声明等等。以后的章节中会学到更多相关的内容。</span><br><span class="line"></span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;:</span><br><span class="line">    这个元素代表了不能由其他 HTML 元相关元素表示的元数据【描述html页面的数据】，比如 &lt;base&gt;、&lt;link&gt;、&lt;script&gt;、&lt;style&gt; 或 &lt;title&gt;。</span><br><span class="line"></span><br><span class="line">&lt;title&gt;&lt;/title&gt;:</span><br><span class="line">这设置了页面的标题，也就是出现在该页面加载的浏览器标签中的内容。当页面被加入书签时，页面标题也被用来描述该页面。</span><br><span class="line"></span><br><span class="line">&lt;body&gt;&lt;/body&gt;:</span><br><span class="line">包含了你访问页面时所有显示在页面上的内容，包含文本、图片、视频、游戏、可播放音频轨道等等。</span><br><span class="line"></span><br><span class="line">&lt;!--  ctrl+alt+L 格式化代码--&gt;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/爬虫/P6-Py-100Scrapy性能提高"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/20/Python/%E7%88%AC%E8%99%AB/P6-Py-100Scrapy%E6%80%A7%E8%83%BD%E6%8F%90%E9%AB%98/"
    >爬虫学习笔记-6.100Scrapy性能提升（base百度）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/20/Python/%E7%88%AC%E8%99%AB/P6-Py-100Scrapy%E6%80%A7%E8%83%BD%E6%8F%90%E9%AB%98/" class="article-date">
  <time datetime="2023-03-20T03:34:47.000Z" itemprop="datePublished">2023-03-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>需求：scrapy爬取网页速度十分缓慢，在目标网站良好的情况下三天才跑了80w条数据，参考其他爬虫的速度，一天抓取1000w条数据是没有问题的，scrapy性能需要优化。</p>
<p>思路：经过各种搜索，scrapy提高性能核心逻辑是提高并发数量，最简单的实现方式可以通过调整settings的‘CONCURRENT_REQUESTS’等参数或者使用分布式爬虫来提速。除此之外代码也要尽量少用循环。本人的简单优化主要通过以下方式</p>
<p><strong>settings中设置CONCURRENT_REQUESTS</strong></p>
<p>scrapy默认CONCURRENT_REQUESTS 为16,可以将CONCURRENT_REQUESTS 的数量增加。要注意download_delay会影响到并发的效果，大概是由于每个request的处理要在download_delay时间之后。具体见链接<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://blog.csdn.net/s150503/article/details/72571680">scrapy中CONCURRENT_REQUESTS与DOWNLOAD_DELAY的联系</a></p>
<p>DEPTH_PRIORITY &#x3D; 1 SCHEDULER_DISK_QUEUE &#x3D; ‘scrapy.squeues.PickleFifoDiskQueue’ SCHEDULER_MEMORY_QUEUE &#x3D; ‘scrapy.squeues.FifoMemoryQueue’</p>
<p><strong>spider中的循环优化</strong></p>
<p>尽量减少循环的层数，另外参考python优化的原则，在循环中少用”.”的方法。</p>
<p>lowerlist &#x3D; [‘this’, ‘is’, ‘lowercase’] upper &#x3D; str.upper upperlist &#x3D; [] append &#x3D; upperlist.append for word in lowerlist:    append(upper(word))    print(upperlist)</p>
<p><strong>中间价的优化</strong></p>
<p>当时写了一个简单的中间件用来记录请求失败的url，将中间件删掉后速度有所提升。</p>
<p><strong>异步导出数据</strong></p>
<p>具体没尝试过故此只放链接在次</p>
<p>[异步导出数据]<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://www.cnblogs.com/ruoniao/p/6906344.html">http://www.cnblogs.com/ruoniao/p/6906344.html</a></p>
<p>参考文章</p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://python.jobbole.com/81035/">提升 Python 程序性能的 6 个技巧</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/df9c0d1e9087">Scrapy爬虫入门教程十三 Settings（设置）</a></p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://blog.csdn.net/zongzhiyuan/article/details/53364749">【Scrapy爬虫系列2】性能调优</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%EF%BC%8CScrapy/" rel="tag">Python，Scrapy</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/爬虫/P6-Py-3Ajax工作原理及实例"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/19/Python/%E7%88%AC%E8%99%AB/P6-Py-3Ajax%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E4%BE%8B/"
    >爬虫学习笔记-6.3Ajax工作原理及实例（base百度）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/19/Python/%E7%88%AC%E8%99%AB/P6-Py-3Ajax%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E4%BE%8B/" class="article-date">
  <time datetime="2023-03-19T03:34:47.000Z" itemprop="datePublished">2023-03-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><strong>1、关于ajax的名字</strong>　　</p>
<p>　　ajax 的全称是Asynchronous JavaScript and XML，其中，Asynchronous 是异步的意思，它有别于传统web开发中采用的同步的方式。</p>
<p><strong>2、关于同步和异步</strong>　</p>
<p>　　异步传输是面向字符的传输，它的单位是字符；而同步传输是面向比特的传输，它的单位是桢，它传输的时候要求接受方和发送方的时钟是保持一致的。</p>
<p>具体来说，异步传输是将比特分成小组来进行传送。一般每个小组是一个8位字符，在每个小组的头部和尾部都有一个开始位和一个停止位，它在传送过程中接收方和发送方的时钟不要求一致，也就是说，发送方可以在任何时刻发送这些小组，而接收方并不知道它什么时候到达。一个最明显的例子就是计算机键盘和主机的通信，按下一个键的同时向主机发送一个8比特位的ASCII代 码，键盘可以在任何时刻发送代码，这取决于用户的输入速度，内部的硬件必须能够在任何时刻接收一个键入的字符。这是一个典型的异步传输过程。异步传输存在 一个潜在的问题，即接收方并不知道数据会在什么时候到达。在它检测到数据并做出响应之前，第一个比特已经过去了。这就像有人出乎意料地从后面走上来跟你说 话，而你没来得及反应过来，漏掉了最前面的几个词。因此，每次异步传输的信息都以一个起始位开头，它通知接收方数据已经到达了，这就给了接收方响应、接收 和缓存数据比特的时间；在传输结束时，一个停止位表示该次传输信息的终止。按照惯例，空闲（没有传送数据）的线路实际携带着一个代表二进制1的信号。步传输的开始位使信号变成0，其他的比特位使信号随传输的数据信息而变化。最后，停止位使信号重新变回1，该信号一直保持到下一个开始位到达。例如在键盘上数字“1”，按照8比特位的扩展ASCII编码，将发送“00110001”，同时需要在8比特位的前面加一个起始位，后面一个停止位。</p>
<p>同步传输的比特分组要大得多。它不是独立地发送每个字符，每个字符都有自己的开始位和停止位，而是把它们组合起来一起发送。我们将这些组合称为数据帧，或简称为帧。</p>
<p>　　数据帧的第一部分包含一组同步字符，它是一个独特的比特组合，类似于前面提到的起始位，用于通知接收方一个帧已经到达，但它同时还能确保接收方的采样速度和比特的到达速度保持一致，使收发双方进入同步。</p>
<p>　　帧的最后一部分是一个帧结束标记。与同步字符一样，它也是一个独特的比特串，类似于前面提到的停止位，用于表示在下一帧开始之前没有别的即将到达的数据了。</p>
<p>　　同步传输通常要比异步传输快速得多。接收方不必对每个字符进行开始和停止的操作。一旦检测到帧同步字符，它就在接下来的数据到达时接收它们。另外，同步传输的开销也比较少。例如，一个典型的帧可能有500字节（即4000比特）的数据，其中可能只包含100比特的开销。这时，增加的比特位使传输的比特总数增加2.5%，这与异步传输中25 %的增值要小得多。随着数据帧中实际数据比特位的增加，开销比特所占的百分比将相应地减少。但是，数据比特位越长，缓存数据所需要的缓冲区也越大，这就限制了一个帧的大小。另外，帧越大，它占据传输媒体的连续时间也越长。在极端的情况下，这将导致其他用户等得太久。</p>
<p>　3、<strong>ajax所包含的技术</strong></p>
<p>　　<strong>ajax并非一种新的技术，而是几种原有技术的结合体。它由下列技术组合而成。</strong></p>
<p>　1.使用CSS和XHTML来表示。</p>
<ol start="2">
<li>使用DOM模型来交互和动态显示。</li>
</ol>
<p>  3.使用XMLHttpRequest来和服务器进行异步通信。</p>
<p>  4.使用javascript来绑定和调用。</p>
<p>在上面几中技术中，除了XmlHttpRequest对象以外，其它所有的技术都是基于web标准并且已经得到了广泛使用的，XMLHttpRequest虽然目前还没有被W3C所采纳，但是它已经是一个事实的标准，因为目前几乎所有的主流浏览器都支持它。</p>
<p>  <strong>4、ajax原理和XmlHttpRequest对象</strong></p>
<p>　　<strong>Ajax的原理简单来说通过XmlHttpRequest对象来向服务器发异步请求，从服务器获得数据，然后用javascript来操作DOM而更新页面。这其中最关键的一步就是从服务器获得请求数据。要清楚这个过程和原理，我们必须对 XMLHttpRequest有所了解。</strong></p>
<p>XMLHttpRequest是ajax的核心机制，它是在IE5中首先引入的，是一种支持异步请求的技术。简单的说，也就是javascript可以及时向服务器提出请求和处理响应，而不阻塞用户。达到无刷新的效果。</p>
<p> 　所以我们先从XMLHttpRequest讲起，来看看它的工作原理。</p>
<p> 　首先，我们先来看看XMLHttpRequest这个对象的属性。</p>
<p> 　　它的属性有：</p>
<p> 　　onreadystatechange 每次状态改变所触发事件的事件处理程序。</p>
<p> 　　responseText   从服务器进程返回数据的字符串形式。</p>
<p> 　　responseXML   从服务器进程返回的DOM兼容的文档数据对象。</p>
<p> 　　status      从服务器返回的数字代码，比如常见的404（未找到）和200（已就绪）</p>
<p> 　　status Text    伴随状态码的字符串信息</p>
<p> 　　readyState    对象状态值</p>
<p>　　　　0 (未初始化) 对象已建立，但是尚未初始化（尚未调用open方法）</p>
<p>　　　　1 (初始化) 对象已建立，尚未调用send方法</p>
<p>　　　　2 (发送数据) send方法已调用，但是当前的状态及http头未知</p>
<p>　　　　3 (数据传送中) 已接收部分数据，因为响应及http头不全，这时通过responseBody和responseText获取部分数据会出现错误，</p>
<p>　　　　4 (完成) 数据接收完毕,此时可以通过通过responseXml和responseText获取完整的回应数据</p>
<p>　　但是，由于各浏览器之间存在差异，所以创建一个XMLHttpRequest对象可能需要不同的方法。这个差异主要体现在IE和其它浏览器之间。下面是一个比较标准的创建XMLHttpRequest对象的方法。</p>
<p>function CreateXmlHttp() {</p>
<p>​    &#x2F;&#x2F;非IE浏览器创建XmlHttpRequest对象</p>
<p>​    if (window.XmlHttpRequest) {</p>
<p>​        xmlhttp &#x3D; new XmlHttpRequest();</p>
<p>​    }</p>
<p>​    &#x2F;&#x2F;IE浏览器创建XmlHttpRequest对象</p>
<p>​    if (window.ActiveXObject) {</p>
<p>​        try {</p>
<p>​            xmlhttp &#x3D; new ActiveXObject(“Microsoft.XMLHTTP”);</p>
<p>​        }</p>
<p>​        catch (e) {</p>
<p>​            try {</p>
<p>​                xmlhttp &#x3D; new ActiveXObject(“msxml2.XMLHTTP”);</p>
<p>​            }</p>
<p>​            catch (ex) { }</p>
<p>​        }</p>
<p>​    }</p>
<p>}</p>
<p>function Ustbwuyi() {</p>
<p>​    var data &#x3D; document.getElementById(“username”).value;</p>
<p>​    CreateXmlHttp();</p>
<p>​    if (!xmlhttp) {</p>
<p>​        alert(“创建xmlhttp对象异常！”);</p>
<p>​        return false;</p>
<p>​    }</p>
<p>​    xmlhttp.open(“POST”, url, false);</p>
<p>​    xmlhttp.onreadystatechange &#x3D; function () {</p>
<p>​        if (xmlhttp.readyState &#x3D;&#x3D; 4) {</p>
<p>​            document.getElementById(“user1”).innerHTML &#x3D; “数据正在加载…”;</p>
<p>​            if (xmlhttp.status &#x3D;&#x3D; 200) {</p>
<p>​                document.write(xmlhttp.responseText);</p>
<p>​            }</p>
<p>​        }</p>
<p>​    }</p>
<p>​    xmlhttp.send();</p>
<p>}</p>
<p>　　如上所示，函数首先检查XMLHttpRequest的整体状态并且保证它已经完成（readyStatus&#x3D;4），即数据已经发送完毕。然后根据服务器的设定询问请求状态，如果一切已经就绪（status&#x3D;200），那么就执行下面需要的操作。</p>
<p>对于XmlHttpRequest的两个方法，open和send，其中open方法指定了：</p>
<p>a、向服务器提交数据的类型，即post还是get。</p>
<p>b、请求的url地址和传递的参数。</p>
<p>c、传输方式，false为同步，true为异步。默认为true。如果是异步通信方式(true)，客户机就不等待服务器的响应；如果是同步方式(false)，客户机就要等到服务器返回消息后才去执行其他操作。我们需要根据实际需要来指定同步方式，在某些页面中，可能会发出多个请求，甚至是有组织有计划有队形大规模的高强度的request，而后一个是会覆盖前一个的，这个时候当然要指定同步方式。</p>
<p>Send方法用来发送请求。</p>
<p>　　知道了XMLHttpRequest的工作流程，我们可以看出，XMLHttpRequest是完全用来向服务器发出一个请求的，它的作用也局限于此，但它的作用是整个ajax实现的关键，因为ajax无非是两个过程，发出请求和响应请求。并且它完全是一种客户端的技术。而XMLHttpRequest正是处理了服务器端和客户端通信的问题所以才会如此的重要。</p>
<p>　　现在，我们对ajax的原理大概可以有一个了解了。我们可以把服务器端看成一个数据接口，它返回的是一个纯文本流，当然，这个文本流可以是XML格式，可以是Html，可以是Javascript代码，也可以只是一个字符串。这时候，XMLHttpRequest向服务器端请求这个页面，服务器端将文本的结果写入页面，这和普通的web开发流程是一样的，不同的是，客户端在异步获取这个结果后，不是直接显示在页面，而是先由javascript来处理，然后再显示在页面。至于现在流行的很多ajax控件，比如magicajax等，可以返回DataSet等其它数据类型，只是将这个过程封装了的结果，本质上他们并没有什么太大的区别。</p>
<p>　　<strong>5、ajax的缺点</strong></p>
<p>下面我着重讲一讲ajax的缺陷，因为平时我们大多注意的都是ajax给我们所带来的好处诸如用户体验的提升。而对ajax所带来的缺陷有所忽视。</p>
<p>　　下面所阐述的ajax的缺陷都是它先天所产生的。</p>
<p>  　1、ajax干掉了back按钮，即对浏览器后退机制的破坏。后退按钮是一个标准的web站点的重要功能，但是它没法和js进行很好的合作。这是ajax所带来的一个比较严重的问题，因为用户往往是希望能够通过后退来取消前一次操作的。那么对于这个问题有没有办法？答案是肯定的，用过Gmail的知道，Gmail下面采用的ajax技术解决了这个问题，在Gmail下面是可以后退的，但是，它也并不能改变ajax的机制，它只是采用的一个比较笨但是有效的办法，即用户单击后退按钮访问历史记录时，通过创建或使用一个隐藏的IFRAME来重现页面上的变更。（例如，当用户在Google Maps中单击后退时，它在一个隐藏的IFRAME中进行搜索，然后将搜索结果反映到Ajax元素上，以便将应用程序状态恢复到当时的状态。）</p>
<p>但是，虽然说这个问题是可以解决的，但是它所带来的开发成本是非常高的，和ajax框架所要求的快速开发是相背离的。这是ajax所带来的一个非常严重的问题。</p>
<p>   2、安全问题</p>
<p>技术同时也对IT企业带来了新的安全威胁，ajax技术就如同对企业数据建立了一个直接通道。这使得开发者在不经意间会暴露比以前更多的数据和服务器逻辑。ajax的逻辑可以对客户端的安全扫描技术隐藏起来，允许黑客从远端服务器上建立新的攻击。还有ajax也难以避免一些已知的安全弱点，诸如跨站点脚步攻击、SQL注入攻击和基于credentials的安全漏洞等。</p>
<p>   3、对搜索引擎的支持比较弱。</p>
<p>   4、破坏了程序的异常机制。至少从目前看来，像ajax.dll，ajaxpro.dll这些ajax框架是会破坏程序的异常机制的。关于这个问题，我曾经在开发过程中遇到过，但是查了一下网上几乎没有相关的介绍。后来我自己做了一次试验，分别采用ajax和传统的form提交的模式来删除一条数据……给我们的调试带来了很大的困难。</p>
<p>   5、另外，像其他方面的一些问题，比如说违背了url和资源定位的初衷。例如，我给你一个url地址，如果采用了ajax技术，也许你在该url地址下面看到的和我在这个url地址下看到的内容是不同的。这个和资源定位的初衷是相背离的。</p>
<p>   6、一些手持设备（如手机、PDA等）现在还不能很好的支持ajax，比如说我们在手机的浏览器上打开采用ajax技术的网站时，它目前是不支持的，当然，这个问题和我们没太多关系。</p>
<p>　　<strong>5、$.ajax()方法详解</strong>　　　</p>
<p>jquery中的ajax方法参数总是记不住，这里记录一下。</p>
<p><strong>1.url</strong>: </p>
<p>要求为String类型的参数，（默认为当前页地址）发送请求的地址。</p>
<p><strong>2.type</strong>: </p>
<p>要求为String类型的参数，请求方式（post或get）默认为get。注意其他http请求方法，例如put和delete也可以使用，但仅部分浏览器支持。</p>
<p><strong>3.timeout</strong>: </p>
<p>要求为Number类型的参数，设置请求超时时间（毫秒）。此设置将覆盖$.ajaxSetup()方法的全局设置。</p>
<p><strong>4.async</strong>: </p>
<p>要求为Boolean类型的参数，默认设置为true，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为false。注意，同步请求将锁住浏览器，用户其他操作必须等待请求完成才可以执行。</p>
<p><strong>5.cache</strong>: </p>
<p>要求为Boolean类型的参数，默认为true（当dataType为script时，默认为false），设置为false将不会从浏览器缓存中加载请求信息。</p>
<p><strong>6.data</strong>: </p>
<p>要求为Object或String类型的参数，发送到服务器的数据。如果已经不是字符串，将自动转换为字符串格式。get请求中将附加在url后。防止这种自动转换，可以查看　　processData选项。对象必须为key&#x2F;value格式，例如{foo1:”bar1”,foo2:”bar2”}转换为&amp;foo1&#x3D;bar1&amp;foo2&#x3D;bar2。如果是数组，JQuery将自动为不同值对应同一个名称。例如{foo:[“bar1”,”bar2”]}转换为&amp;foo&#x3D;bar1&amp;foo&#x3D;bar2。</p>
<p><strong>7.dataType</strong>: </p>
<p>要求为String类型的参数，预期服务器返回的数据类型。如果不指定，JQuery将自动根据http包mime信息返回responseXML或responseText，并作为回调函数参数传递。可用的类型如下：</p>
<p>xml：返回XML文档，可用JQuery处理。</p>
<p>html：返回纯文本HTML信息；包含的script标签会在插入DOM时执行。</p>
<p>script：返回纯文本JavaScript代码。不会自动缓存结果。除非设置了cache参数。注意在远程请求时（不在同一个域下），所有post请求都将转为get请求。</p>
<p>json：返回JSON数据。</p>
<p>jsonp：JSONP格式。使用SONP形式调用函数时，例如myurl?callback&#x3D;?，JQuery将自动替换后一个“?”为正确的函数名，以执行回调函数。</p>
<p>text：返回纯文本字符串。</p>
<p><strong>8.beforeSend</strong>：</p>
<p>要求为Function类型的参数，发送请求前可以修改XMLHttpRequest对象的函数，例如添加自定义HTTP头。在beforeSend中如果返回false可以取消本次ajax请求。XMLHttpRequest对象是惟一的参数。</p>
<p>​      function(XMLHttpRequest){</p>
<p>​        this;  &#x2F;&#x2F;调用本次ajax请求时传递的options参数</p>
<p>​      }</p>
<p><strong>9.complete</strong>：</p>
<p>要求为Function类型的参数，请求完成后调用的回调函数（请求成功或失败时均调用）。参数：XMLHttpRequest对象和一个描述成功请求类型的字符串。</p>
<p>​     function(XMLHttpRequest, textStatus){</p>
<p>​       this;  &#x2F;&#x2F;调用本次ajax请求时传递的options参数</p>
<p>​     }</p>
<p><strong>10.success</strong>：要求为Function类型的参数，请求成功后调用的回调函数，有两个参数。</p>
<p>​     (1)由服务器返回，并根据dataType参数进行处理后的数据。</p>
<p>​     (2)描述状态的字符串。</p>
<p>​     function(data, textStatus){</p>
<p>​      &#x2F;&#x2F;data可能是xmlDoc、jsonObj、html、text等等</p>
<p>​      this; &#x2F;&#x2F;调用本次ajax请求时传递的options参数</p>
<p>​     }</p>
<p><strong>11.error</strong>:</p>
<p>要求为Function类型的参数，请求失败时被调用的函数。该函数有3个参数，即XMLHttpRequest对象、错误信息、捕获的错误对象(可选)。ajax事件函数如下：</p>
<p>​    function(XMLHttpRequest, textStatus, errorThrown){</p>
<p>​     &#x2F;&#x2F;通常情况下textStatus和errorThrown只有其中一个包含信息</p>
<p>​     this;  &#x2F;&#x2F;调用本次ajax请求时传递的options参数</p>
<p>​    }</p>
<p><strong>12.contentType</strong>：</p>
<p>要求为String类型的参数，当发送信息至服务器时，内容编码类型默认为”application&#x2F;x-www-form-urlencoded”。该默认值适合大多数应用场合。</p>
<p><strong>13.dataFilter</strong>：</p>
<p>要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。</p>
<p>​      function(data, type){</p>
<p>​        &#x2F;&#x2F;返回处理后的数据</p>
<p>​        return data;</p>
<p>​      }</p>
<p><strong>14.dataFilter</strong>：</p>
<p>要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。</p>
<p>​      function(data, type){</p>
<p>​        &#x2F;&#x2F;返回处理后的数据</p>
<p>​        return data;</p>
<p>​      }</p>
<p><strong>15.global</strong>：</p>
<p>要求为Boolean类型的参数，默认为true。表示是否触发全局ajax事件。设置为false将不会触发全局ajax事件，ajaxStart或ajaxStop可用于控制各种ajax事件。</p>
<p><strong>16.ifModified</strong>：</p>
<p>要求为Boolean类型的参数，默认为false。仅在服务器数据改变时获取新数据。服务器数据改变判断的依据是Last-Modified头信息。默认值是false，即忽略头信息。</p>
<p><strong>17.jsonp</strong>：</p>
<p>要求为String类型的参数，在一个jsonp请求中重写回调函数的名字。该值用来替代在”callback&#x3D;?”这种GET或POST请求中URL参数里的”callback”部分，例如{jsonp:’onJsonPLoad’}会导致将”onJsonPLoad&#x3D;?”传给服务器。</p>
<p><strong>18.username</strong>：</p>
<p>要求为String类型的参数，用于响应HTTP访问认证请求的用户名。</p>
<p><strong>19.password</strong>：</p>
<p>要求为String类型的参数，用于响应HTTP访问认证请求的密码。</p>
<p><strong>20.processData</strong>：</p>
<p>要求为Boolean类型的参数，默认为true。默认情况下，发送的数据将被转换为对象（从技术角度来讲并非字符串）以配合默认内容类型”application&#x2F;x-www-form-urlencoded”。如果要发送DOM树信息或者其他不希望转换的信息，请设置为false。</p>
<p><strong>21.scriptCharset</strong>：</p>
<p>要求为String类型的参数，只有当请求时dataType为”jsonp”或者”script”，并且type是GET时才会用于强制修改字符集(charset)。通常在本地和远程的内容编码不同时使用。</p>
<p>案例代码：</p>
<p>​    <img src="https://note.youdao.com/yws/res/235/3EB867867B6C4083AFDEC192BB4C964A" alt="复制代码"></p>
<p>$(function(){    $(‘#send’).click(function(){         $.ajax({             type: “GET”,             url: “test.json”,             data: {username:$(“#username”).val(), content:$(“#content”).val()},             dataType: “json”,             success: function(data){                         $(‘#resText’).empty();   &#x2F;&#x2F;清空resText里面的所有内容                         var html &#x3D; ‘’;                          $.each(data, function(commentIndex, comment){                               html +&#x3D; ‘</p>
<h6 id="‘-comment-‘username’-‘"><a href="#‘-comment-‘username’-‘" class="headerlink" title="‘ + comment[‘username’]                                         + ‘:"></a>‘ + comment[‘username’]                                         + ‘:</h6><p>‘;                         });                         $(‘#resText’).html(html);                      }         });    });});</p>
<p>​    <img src="https://note.youdao.com/yws/res/237/AAABEE8CEF9F4C8F939708C74D3126EA" alt="复制代码"></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/tylerdonet/p/3520862.html"> </a></p>
<p>　</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%EF%BC%8CJS/" rel="tag">Python，JS</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/爬虫/P6-Py-2异步的事件轮询机制"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/18/Python/%E7%88%AC%E8%99%AB/P6-Py-2%E5%BC%82%E6%AD%A5%E7%9A%84%E4%BA%8B%E4%BB%B6%E8%BD%AE%E8%AF%A2%E6%9C%BA%E5%88%B6/"
    >爬虫学习笔记-6.2Scrapy、JS等异步的事件轮询机制（base百度）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/18/Python/%E7%88%AC%E8%99%AB/P6-Py-2%E5%BC%82%E6%AD%A5%E7%9A%84%E4%BA%8B%E4%BB%B6%E8%BD%AE%E8%AF%A2%E6%9C%BA%E5%88%B6/" class="article-date">
  <time datetime="2023-03-18T03:34:47.000Z" itemprop="datePublished">2023-03-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Scrapy、JS等异步的事件轮询机制"><a href="#Scrapy、JS等异步的事件轮询机制" class="headerlink" title="Scrapy、JS等异步的事件轮询机制"></a>Scrapy、JS等异步的事件轮询机制</h1><p><strong>什么是异步</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lan-cheng/p/10223455.html">https://www.cnblogs.com/lan-cheng/p/10223455.html</a></p>
<p><strong>什么是异步</strong></p>
<p>提起异步大家大家首先应该想到同步，首先解释一下什么是同步。同步即为按照顺序执行，下一任务需要等前一个任务执行完成后才可以开始。那异步是什么呢，简单理解就是和同步相反，他不用等待上一个任务完成就可以开始，像io操作，网络请求一般会采用异步的方式进行</p>
<p><strong>JS是如何是实现异步操作的？</strong> </p>
<p>  js是单线程语言,JS的异步是通过回调函数实现的，即通过任务队列，在主线程执行完当前的任务栈（所有的同步操作），主线程空闲后<strong>轮询</strong>任务队列，并将任务队列中的任务（回调函数）取出来执行。”回调函数”（callback），就是那些会被主线程挂起来的代码。异步任务必须指定回调函数，当主线程开始执行异步任务，就是执行对应的回调函数。</p>
<p><strong>关于<strong><strong>异步中的轮询</strong></strong>机制和<strong><strong>OS中的轮询</strong></strong>机制的区别：异步中的轮询是指当一个线程执行完任务栈中所有任务后轮询任务队列中被挂起的任务——–cpu有事干，没事干了再统一问一次；OS中的轮询是指只要这个I&#x2F;O控制器没就绪，就一直问，就绪也在询问——–cpu有事没事都要问（输入输出系统中用到）；</strong></p>
<p>  虽然JS是单线程的但是浏览器的内核是多线程的，在浏览器的内核中不同的异步操作由不同的浏览器内核模块调度执行，异步操作会将相关回调添加到任务队列中。而不同的异步操作添加到任务队列的时机也不同，（看不懂）如 onclick, setTimeout, ajax 处理的方式都不同，这些异步操作是由浏览器内核的 webcore 来执行的，webcore 包含上图中的3种 webAPI，分别是 DOM Binding、network、timer模块。</p>
<p><strong>JS中的异步运行机制如下:</strong> </p>
<p>（1）所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。</p>
<p>（2）主线程之外，还存在一个”任务队列”（task queue）。只要异步任务有了运行结果，就在”任务队列”之中放置一个事件。</p>
<p>（3）一旦”执行栈”中的所有同步任务执行完毕，系统就会读取”任务队列”，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。</p>
<p>（4）主线程不断重复上面的第三步。</p>
<p>-—————————————————————————————————————————————————————————-</p>
<img src="./P6-Py-2%E5%BC%82%E6%AD%A5%E5%AD%A6%E4%B9%A0.assets/image-20230421174507864.png" alt="image-20230421174507864" style="zoom:50%;" />

<p>-————————————————————————————————————————————————————————————</p>
<img src="./P6-Py-2%E5%BC%82%E6%AD%A5%E5%AD%A6%E4%B9%A0.assets/image-20230421174442474.png" alt="image-20230421174442474" style="zoom:50%;" />

<p><strong>异步的几种实现方式</strong></p>
<ol>
<li>回调函数</li>
<li>使用promise</li>
<li>ES7的Async&#x2F;Await</li>
</ol>
<p> 　</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%EF%BC%8CJS/" rel="tag">Python，JS</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/爬虫/P6-Py-1异步问答"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/17/Python/%E7%88%AC%E8%99%AB/P6-Py-1%E5%BC%82%E6%AD%A5%E9%97%AE%E7%AD%94/"
    >爬虫学习笔记-6.1异步相关问答（base大学JS+OS老师）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/17/Python/%E7%88%AC%E8%99%AB/P6-Py-1%E5%BC%82%E6%AD%A5%E9%97%AE%E7%AD%94/" class="article-date">
  <time datetime="2023-03-17T03:34:47.000Z" itemprop="datePublished">2023-03-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="异步概念，异步执行，异步机制，异步传输数据"><a href="#异步概念，异步执行，异步机制，异步传输数据" class="headerlink" title="异步概念，异步执行，异步机制，异步传输数据"></a>异步概念，异步执行，异步机制，异步传输数据</h1><p>在我印象里异步传输数据就是A发送一字节数据，B不知道啥时候接收到，也不知道B啥时候返回。B返回时会通知A回来处理。</p>
<p>异步机制是通过回调函数。。。。。。</p>
<p>异步概念跟异步传输差不多</p>
<p>异步执行是异步概念基础上加了函数执行，目前只知道js里的函数能异步执行。</p>
<p>然后异步函数为了保证执行顺序 我们可以使用promise或者async&#x2F;await对异步函数进行包装</p>
<h2 id="1-既然是异步，为什么还要保证执行顺序？"><a href="#1-既然是异步，为什么还要保证执行顺序？" class="headerlink" title="1.既然是异步，为什么还要保证执行顺序？"></a>1.既然是异步，为什么还要保证执行顺序？</h2><p><strong>答：</strong>异步有时候需要做执行顺序的调整啊</p>
<p>比如</p>
<p>A:一个异步请求</p>
<p>B:一个输出</p>
<blockquote>
<p>你输出的时候，异步请求的结果还没出来(因为执行顺序不是同步的，异步就变成先执行B再执行A)</p>
</blockquote>
<h3 id="1-1设计操作系统的时候就应该解决这种问题了啊，同步和互斥，加锁。"><a href="#1-1设计操作系统的时候就应该解决这种问题了啊，同步和互斥，加锁。" class="headerlink" title="1.1设计操作系统的时候就应该解决这种问题了啊，同步和互斥，加锁。"></a>1.1设计操作系统的时候就应该解决这种问题了啊，同步和互斥，加锁。</h3><p>想通了：操作系统解决的是最基础的，函数顺序可能有问题关他毛事。函数是自己写的，os又不可能未卜先知。</p>
<img src="./P6-Py-1%E5%BC%82%E6%AD%A5%E9%97%AE%E7%AD%94.assets/image-20230421173728251.png" alt="image-20230421173728251" style="zoom:50%;" />

<h3 id="1-2宏观任务为什么就异步了？宏观任务是什么？"><a href="#1-2宏观任务为什么就异步了？宏观任务是什么？" class="headerlink" title="1.2宏观任务为什么就异步了？宏观任务是什么？"></a>1.2宏观任务为什么就异步了？宏观任务是什么？</h3><p>我的理解:因为宏观任务，微观任务这些都需要时间，比如花时间去请求，或者花时间调用计时器。 js的设计可能是为了避免这些用时的异步函数阻塞了执行。所以才会设计成先执行同步代码，再执行异步的。</p>
<p>宏观任务应该说是事件的来源</p>
<p>js里面的计时器是自带的，所以是宏观任务。 然后promise或者请求一般是宿主发出的，是微观请求。</p>
<h3 id="1-2异步函数是指os控制下使普通函数变得异步是么，还是说函数受程序员控制，你调什么东西让它异步？（应该是后面那个，比如用框架，但是框架是怎么让函数变成异步执行的？）"><a href="#1-2异步函数是指os控制下使普通函数变得异步是么，还是说函数受程序员控制，你调什么东西让它异步？（应该是后面那个，比如用框架，但是框架是怎么让函数变成异步执行的？）" class="headerlink" title="1.2异步函数是指os控制下使普通函数变得异步是么，还是说函数受程序员控制，你调什么东西让它异步？（应该是后面那个，比如用框架，但是框架是怎么让函数变成异步执行的？）"></a>1.2异步函数是指os控制下使普通函数变得异步是么，还是说函数受程序员控制，你调什么东西让它异步？（应该是后面那个，比如用框架，但是框架是怎么让函数变成异步执行的？）</h3><h3 id="1-3异步函数的实际执行顺序受制于避免阻塞还有？？"><a href="#1-3异步函数的实际执行顺序受制于避免阻塞还有？？" class="headerlink" title="1.3异步函数的实际执行顺序受制于避免阻塞还有？？"></a>1.3异步函数的实际执行顺序受制于避免阻塞还有？？</h3><p>想通了：异步函数的实际执行顺序好像跟进程的执行顺序一个道理。（想啥呢进程不就是函数+pcb）</p>
<blockquote>
<p>这块我明天得捋一捋了，我具体也忘了浏览器四个进程现在是怎么划分的，还有进程的一些特点之类</p>
</blockquote>
<blockquote>
<p>异步的问题，你看看掘金上对于event loop的解释，你就会明白js的执行顺序。</p>
<p>同步代码会直接按顺序执行。异步(分成宏任务和微任务，具体的区别你可以查一查。常见的宏任务主要是setTimeout,SetInterval这类计时器，以及I&#x2F;O操作,ui渲染的操作，微任务主要是Promise之类)。</p>
<p>具体的执行顺序看event loop的文章，我解释起来可能有点费劲。我把思路理一理再做解释</p>
</blockquote>
<ol start="4">
<li></li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%EF%BC%8CScrapy/" rel="tag">Python，Scrapy</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/爬虫/P6-Py-0两种异步观念"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/16/Python/%E7%88%AC%E8%99%AB/P6-Py-0%E4%B8%A4%E7%A7%8D%E5%BC%82%E6%AD%A5%E8%A7%82%E5%BF%B5/"
    >爬虫学习笔记-6.0两种异步观念（base大学数据结构+OS老师）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/16/Python/%E7%88%AC%E8%99%AB/P6-Py-0%E4%B8%A4%E7%A7%8D%E5%BC%82%E6%AD%A5%E8%A7%82%E5%BF%B5/" class="article-date">
  <time datetime="2023-03-16T03:34:47.000Z" itemprop="datePublished">2023-03-16</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/note/">note</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="有疑问-同步-关注通信机制-跟同步-描述进程中之间的关系-的区别-并发并行与异步的联系"><a href="#有疑问-同步-关注通信机制-跟同步-描述进程中之间的关系-的区别-并发并行与异步的联系" class="headerlink" title="[有疑问]同步(关注通信机制)跟同步(描述进程中之间的关系)的区别  并发并行与异步的联系"></a>[有疑问]同步(关注通信机制)跟同步(描述进程中之间的关系)的区别  并发并行与异步的联系</h1><h2 id="两种关于异步的理解"><a href="#两种关于异步的理解" class="headerlink" title="两种关于异步的理解"></a><strong>两种关于异步的理解</strong></h2><p>1.线程&#x2F;进程&#x2F;作业 不按代码顺序执行(其他)</p>
<p>2.不按发送请求的顺序返回结果(消息通信机制)</p>
<p><strong>消息通信机制中的同步异步(顺带并发并行)</strong></p>
<p>同步和异步关注的是<strong>消息通信机制</strong> (synchronous communication&#x2F; asynchronous communication)。所谓同步，就是在发出一个<em>调用</em>时，在没有得到结果之前，该<em>调用</em>就不返回。但是一旦调用返回，就得到返回值了。换句话说，就是由<em>调用者</em>主动等待这个<em>调用</em>的结果。</p>
<p>而异步则是相反，<em>调用</em>在发出之后，这个调用就直接返回了，所以没有返回结果。换句话说，当一个异步过程调用发出后，调用者不会立刻得到结果。而是在<em>调用</em>发出后，<em>被调用者</em>通过状态、通知来通知调用者，或通过回调函数处理这个调用。</p>
<p>并发和并行其实是异步(线程&#x2F;进程&#x2F;作业 不按代码顺序执行,不按发送请求的顺序返回结果)线程实现的两种形式。(这里的异步指的是什么异步???)</p>
<p>并行其实是真正的异步，多核CUP可以同时开启多条线程供多个任务同时执行，互不干扰。但</p>
<p>是并发就不一样了，是一个伪异步。在单核CUP中只能有一条线程，但是又想执行多个任务。这个时候，只能在一条线程上不停的切换任务，但是当并发是在多个cpu的情况下，那么并行和并发就没多大的区别了。但是在单个cpu的情况下的话，那么就只能并发而不能并行了。</p>
<p><strong>操作系统中的异步机制和进程同步机制</strong></p>
<ul>
<li>1.异步机制:由于操作系统都是并发的(一段时间内cpu到处跳),即拥有了异步性,导致了有些情况</li>
</ul>
<p><strong>(———–<strong>比如AB两进程并发操作数据10,想得到的结果是A进程先执行除法,B再进行加法….,再比如两人同时存钱,<strong>同时访问数据库,导致操作出问题</strong>(好像是有三四种可能,此处关于数据库安全性)</strong>————)</strong></p>
<p>无法按照顺序得到想要的结果,故提出进程同步机制,其中一个即信号量机制,信号量机制又可以实现同步和互斥,其中的同步和同步机制是两个概念.</p>
<ul>
<li>2.同步机制:使进程按某种顺序执行的各种机制(方法).<strong>并不是一定A执行完了B才能执行(同步)这种严格的顺序.还有AB谁先执行都行,但是同一时间只能有一个进程执行.</strong></li>
</ul>
<p><strong>操作系统中的同步机制中的同步和互斥</strong></p>
<p>显然，同步是一种更为复杂的互斥，而互斥是一种特殊的同步。</p>
<p>也就是说互斥是两个线程之间不可以同时运行，他们会相互排斥，必须等待一个线程运行完毕，另一个才能运行，而同步也是不能同时运行，但他是必须要安照某种次序来运行相应的线程（也是一种互斥）！</p>
<p><strong>互斥</strong>：是指某一资源同时只允许一个访问者对其进行访问，具有唯一性和排它性。但互斥无法限制访问者对资源的访问顺序，即访问是无序的。<strong>进程之间的执行没有先后顺序,但资源共享,同一时间只能有一个进程访问这个资源.</strong></p>
<p><strong>同步</strong>：是指在互斥的基础上（大多数情况），通过其它机制实现访问者对资源的有序访问。在大多数情况下，同步已经实现了互斥，特别是所有写入资源的情况必定是互斥的。少数情况是指可以允许多个访问者同时访问资源。<strong>进程之间的执行必须有先后顺序,资源共享,同一时间只能有一个进程访问这个资源.</strong></p>
<h1 id="同步异步并串行并行并发的区别"><a href="#同步异步并串行并行并发的区别" class="headerlink" title="同步异步并串行并行并发的区别"></a><strong>同步异步并串行并行并发的区别</strong></h1><p>   <strong>同步、异步：</strong></p>
<p>指的是能否开启新的线程。同步不能开启新的线程，异步可以。</p>
<p>   <strong>串行、并行：</strong></p>
<p>指的是任务的执行方式。串行是指多个任务时，各个任务按顺序执行，完成一个之后才能进行下一个。并行指的是多个任务可以同时执行。异步是多个任务并行的前提条件。</p>
<p>   <strong>并发和并行其实是异步线程实现的两种形式。并行其实是真正的异步，多核CUP可以同时开启多条线程供多个任务同时执行，互不干扰。但是并发就不一样了，是一个伪异步。在单核CUP中只能有一条线程，但是又想执行多个任务。这个时候，只能在一条线程上不停的切换任务，比如任务A执行了20%，任务A停下里，线程让给任务B，任务执行了30%停下，再让任务A执行。这样我们用的时候，由于CUP处理速度快，你看起来好像是同时执行，其实不是的，同一时间只会执行单个任务。但是当并发是在多个cpu的情况下，那么并行和并发就没多大的区别了。但是在单个cpu的情况下的话，那么就只能并发而不能并行了。</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/czk666/articles/9353160.html">查看原文</a></p>
<h1 id="同步异步-阻塞非阻塞-和nginx的IO模型"><a href="#同步异步-阻塞非阻塞-和nginx的IO模型" class="headerlink" title="同步异步,阻塞非阻塞 和nginx的IO模型"></a>同步异步,阻塞非阻塞 和nginx的IO模型</h1><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/wxl-dede/p/5134636.html"><strong>同步异步,阻塞非阻塞 和nginx的IO模型</strong></a><strong>（这人的笔记都很有用!!!）</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19732473/answer/20851256">https://www.zhihu.com/question/19732473/answer/20851256</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19732473/answer/14413599">https://www.zhihu.com/question/19732473/answer/14413599</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19732473/answer/241673170">https://www.zhihu.com/question/19732473/answer/241673170</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%EF%BC%8CScrapy/" rel="tag">Python，Scrapy</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/P5-Python网站--废品回收（数据库结业项目）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/15/Python/P5-Python%E7%BD%91%E7%AB%99--%E5%BA%9F%E5%93%81%E5%9B%9E%E6%94%B6%EF%BC%88%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E4%B8%9A%E9%A1%B9%E7%9B%AE%EF%BC%89/"
    >Python网站--废品回收（数据库结业项目）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/15/Python/P5-Python%E7%BD%91%E7%AB%99--%E5%BA%9F%E5%93%81%E5%9B%9E%E6%94%B6%EF%BC%88%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E4%B8%9A%E9%A1%B9%E7%9B%AE%EF%BC%89/" class="article-date">
  <time datetime="2023-03-15T03:42:56.000Z" itemprop="datePublished">2023-03-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/project/">project</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="基于Django的废品回收网站设计与实现（附件见文末）"><a href="#基于Django的废品回收网站设计与实现（附件见文末）" class="headerlink" title="基于Django的废品回收网站设计与实现（附件见文末）"></a>基于Django的废品回收网站设计与实现（附件见文末）</h2><h2 id="系统原型"><a href="#系统原型" class="headerlink" title="系统原型"></a>系统原型</h2><p>进入系统登录页面，在该部分向<img src="/../pic/media-fp/0a11328ae013230e51ec2122e8c73146.jpeg" alt="登录页面">用户提供登录、注册功能。</p>
<p>图 4.3 登录原型图</p>
<p>用户进入用户主页后，可以看到自己的昵称，以及侧边栏的功能选项，点击个人中心按钮进入个人中心页面填写个人信息，用户个人中心页原型图如图 4.4 所示。</p>
<p><img src="/../pic/media-fp/41231ccab047ccc8732e1e56347d8482.png" alt="用户个人中心"></p>
<p>图 4.4 用户个人中心页原型图</p>
<p>当用户进入首页点击废品回收按钮进行废品回收下单、提交订单、查看订单，用户</p>
<p>废品回收下单页原型图如图 4.5 所示。</p>
<p><img src="/../pic/media-fp/7498b440d234dfb821ddb787290a14e5.png" alt="用户废品回收下单"></p>
<p>图 4.5 用户废品回收下单页原型图</p>
<p>当商户进入首页可以看到自己的昵称、侧边栏的功能选项、订单列表，点击个人中心按钮进入个人中心页面填写个人信息，商户进行接单并价格评估、提交后跳转到我的订单页面、查看物流信息，商户接单并价格评估页原型图如图 4.6 所示。</p>
<p><img src="/../pic/media-fp/140bd019df0d9c9a446c30cedb55637b.png" alt="1650091871(1)"></p>
<p>图 4.6 商户接单页原型图</p>
<p>当取货员进入首页可以看到自己的昵称、侧边栏的功能选项、订单列表，点击个人中心按钮进入个人中心页面填写个人信息，取货员进行接单并在我的订单进行取送更新、查看物流信息，取货员在我的订单页进行取送更新原型图如图 4.7 所示。</p>
<p><img src="/../pic/media-fp/a1da75dc091b0ea5d2f40c0d23b103ee.jpeg" alt="1650092841(1)"></p>
<p>图 4.7 取货员更新取货信息原型图</p>
<p>商户对取货员返回的回收单进行确认并支付，商户支付原型图如图 4.8 所示。</p>
<p><img src="/../pic/media-fp/a4249b2ca3270865d7d1ecaf26399ede.jpeg" alt="1650093591(1)"></p>
<p>图 4.8 商户支付页原型图</p>
<p>用户对商户及取货员评价原型图如图 4.9 所示，取货员在我的评价页查看评价如图</p>
<p>4.10 所示。</p>
<p><img src="/../pic/media-fp/84105aeafa7c5bf079182f776d9ce0c2.png" alt="1650093839(1)"></p>
<p>图 4.9 用户评价页原型图</p>
<p><img src="/../pic/media-fp/8e86672c1fd2c26db40a57bbce1b3a68.jpeg" alt="1650094008(1)"></p>
<p>图 4.10 取货员查看评价页原型图</p>
<h2 id="系统结构设计"><a href="#系统结构设计" class="headerlink" title="系统结构设计"></a>系统结构设计</h2><p><strong>第 4 章 系统设计</strong></p>
<p>系统分为 4 个角色，前端为用户、商户、取货员，后端管理员负责对信息与用户身份的审核、账户管理、订单信息管理、回收物品种类管理等功能。系统功能结构图如图</p>
<ol>
<li>所示。</li>
</ol>
<p><img src="/../pic/media-fp/864dad1dd7c74064545295cbd6797623.jpeg" alt="1650098816(1)"></p>
<p>图 4.1 体系功能结构图</p>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="E-R-图"><a href="#E-R-图" class="headerlink" title="E-R 图"></a>E-R 图</h3><p>数据库设计的 E-R 图如图 4.2 所示。</p>
<p><img src="/../pic/media-fp/7c5162deeb0293f04285f66386a091af.jpeg" alt="废品回收E-R图"></p>
<p>图 4.2 系统 E-R 图</p>
<h3 id="表结构设计"><a href="#表结构设计" class="headerlink" title="表结构设计"></a>表结构设计</h3><p>用户登录需要账户密码，下单时需要填写姓名、联系电话及地址便于商户与取货员查看订单信息取货回收，注册时需要有 id 账号方便管理员管理。用户信息表结构如表</p>
<p>4.1 所示。</p>
<p>表 4.1 用户表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>用户 id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ,not null</td>
</tr>
<tr>
<td>username</td>
<td>账户</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>password</td>
<td>密码</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>name</td>
<td>姓名</td>
<td>varchar(20)</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>电话</td>
<td>varchar(11)</td>
<td></td>
</tr>
<tr>
<td>addr</td>
<td>地址</td>
<td>varchar(256)</td>
<td></td>
</tr>
</tbody></table>
<p>商户登录需要账户密码，接单时需要填写姓名、联系电话及地址便于取货员查看信息送货，注册时需要有 id 账号方便管理员管理。商户表结构如表 4.2 所示。</p>
<p>表 4.2 商户表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>用户 id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>username</td>
<td>账户</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>password</td>
<td>密码</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>name</td>
<td>姓名</td>
<td>varchar(20)</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>电话</td>
<td>varchar(11)</td>
<td></td>
</tr>
<tr>
<td>addr</td>
<td>地址</td>
<td>varchar(256)</td>
<td></td>
</tr>
</tbody></table>
<p>取货员登录需要账户密码，接单时需要填写姓名、联系电话便于用户及商户查看信配送信息，有问题便于联系，注册时需要有 id 账号方便管理员管理。取货员表结构如表</p>
<p>4.3 所示。</p>
<p>表 4.3 取货员表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>用户 id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>username</td>
<td>账户</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>password</td>
<td>密码</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>name</td>
<td>姓名</td>
<td>varchar(20)</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>电话</td>
<td>varchar(11)</td>
<td></td>
</tr>
</tbody></table>
<p>废品类别便于用户选择，编号 id 便于管理员管理。废品类别表结构如表 4.4 所示。</p>
<p>表 4.4 废品类别表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>废品种类 id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>name</td>
<td>类别名称</td>
<td>varchar(20)</td>
<td>not null</td>
</tr>
</tbody></table>
<p>订单信息会被记录，当用户、商户、取货员对订单存在疑惑时需要查看订单信息， 便于处理。订单信息表结构如表 4.5 所示。</p>
<p>表 4.5 订单信息表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>订单 id</td>
<td>varchar(20)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>name</td>
<td>用户名</td>
<td>varchar(20)</td>
<td>not null</td>
</tr>
<tr>
<td>phone</td>
<td>电话</td>
<td>varchar(11)</td>
<td>not null</td>
</tr>
<tr>
<td>addr</td>
<td>地址</td>
<td>varchar(256)</td>
<td>not null</td>
</tr>
<tr>
<td>date</td>
<td>下单日期</td>
<td>date(0)</td>
<td>not null</td>
</tr>
<tr>
<td>time</td>
<td>取货时间</td>
<td>time(6)</td>
<td>not null</td>
</tr>
<tr>
<td>type_id</td>
<td>废品类别 id</td>
<td>int(11)</td>
<td>not null</td>
</tr>
<tr>
<td>create</td>
<td>订单创建时间</td>
<td>datetime(6)</td>
<td>not null</td>
</tr>
<tr>
<td>detail</td>
<td>备注</td>
<td>varchar(500)</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>价格</td>
<td>decimal(6)</td>
<td>not null</td>
</tr>
<tr>
<td>comment_d</td>
<td>对商户评价</td>
<td>varchar(500)</td>
<td></td>
</tr>
<tr>
<td>comment_b</td>
<td>对取货员评价</td>
<td>varchar(500)</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
<td>varchar(11)</td>
<td>not null</td>
</tr>
<tr>
<td>user_id</td>
<td>用户 id</td>
<td>int(11)</td>
<td>not null</td>
</tr>
</tbody></table>
<p>管理员注册时有 id 编号，管理员登录需要账户、密码。管理员表结构如表 4.6 所示。</p>
<p>表 4.6 管理员表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>管理员 id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>username</td>
<td>账户</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
<tr>
<td>password</td>
<td>密码</td>
<td>varchar(32)</td>
<td>not null</td>
</tr>
</tbody></table>
<p>物流信息由商户、取货员操作更新，直接显示当前订单状态、创建日期、订单编号。</p>
<p>物流信息表结构如表 4.7 所示。</p>
<p>表 4.7 物流信息表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT ，not null</td>
</tr>
<tr>
<td>name</td>
<td>物流状态</td>
<td>varchar(50)</td>
<td>not null</td>
</tr>
<tr>
<td>create</td>
<td>创建日期</td>
<td>varchar(6)</td>
<td>not null</td>
</tr>
<tr>
<td>order_id</td>
<td>订单编号</td>
<td>varchar(20)</td>
<td>not null</td>
</tr>
</tbody></table>
<p>管理员可对用户、商户、取货员账户及订单进行增加、删除、修改、查看功能。管理员操作记录表结构如表 4.8 所示。</p>
<p>表 4.8 管理员操作记录表</p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>名称</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>约束</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>id</td>
<td>int(11)</td>
<td>PK， AUTO_INCREMENT</td>
</tr>
<tr>
<td>action_time</td>
<td>开始时间</td>
<td>datetime(6)</td>
<td>not null</td>
</tr>
<tr>
<td>object_id</td>
<td>目标 id</td>
<td>longtext</td>
<td></td>
</tr>
<tr>
<td>object_repr</td>
<td>更改结果</td>
<td>varchar(200)</td>
<td>not null</td>
</tr>
<tr>
<td>action_flag</td>
<td>开始标记</td>
<td>smallint(5)</td>
<td>not null</td>
</tr>
<tr>
<td>change_message</td>
<td>更改信息</td>
<td>longtext</td>
<td>not null</td>
</tr>
<tr>
<td>content_type_id</td>
<td>满足类型 id</td>
<td>int(11)</td>
<td></td>
</tr>
<tr>
<td>user_id</td>
<td>用户 id</td>
<td>int(11)</td>
<td>not null</td>
</tr>
</tbody></table>
<h3 id="后台功能模块设计"><a href="#后台功能模块设计" class="headerlink" title="后台功能模块设计"></a>后台功能模块设计</h3><p><img src="/../pic/media-fp/2431961e9d108c0b210377502065bc5a.png" alt=" ">管理员功能设计实现增删改查用户、商户、取货员、订单信息、回收废品分类功能， 认证和授权功能。管理员功能类图如图 4.3 所示。</p>
<p>图 4.3 废品回收后台管理系统类图</p>
<p>设计顺序图，管理员修改功能的顺序图如图 4.4 所示。</p>
<p><img src="/../pic/media-fp/fc74638232853c65d510c7cb298c865a.png" alt=" "></p>
<p>图 4.4 修改订单功能顺序图</p>
<h2 id="前台功能模块设计"><a href="#前台功能模块设计" class="headerlink" title="前台功能模块设计"></a>前台功能模块设计</h2><p>前台功能设计实现用户用户下单、查看订单状态，商户接单、评估价格并支付确认、查看物流信息、订单信息、用户评价，取货员接单、取货、送货、更新物流信息、查看用户评价等功能。前台功能类图如图 4.5 所示。</p>
<p><img src="/../pic/media-fp/31b594a824aca47dc78a33e2950bf5de.png" alt=" "></p>
<p>图 4.5 前端功能系统类图</p>
<p>设计顺序图，用户下单功能的顺序图如图 4.6 所示。</p>
<p><img src="/../pic/media-fp/39eaecc93f36d50a1449ed4e60d34a1d.png" alt=" "></p>
<p>图 4.6 用户下单功能顺序图</p>
<p>设计顺序图，商户接单功能的顺序图如图 4.7 所示。</p>
<p><img src="/../pic/media-fp/97a9c7bc9f5c0d50ea59ff01d20daf3e.png" alt=" "></p>
<p>图 4.7 商户接单功能顺序图</p>
<p>设计顺序图，取货员接单取货功能的顺序图如图 4.8 所示。</p>
<p><img src="/../pic/media-fp/f7bfe83dea82121aba4e524a9fbf4432.png" alt=" "></p>
<p>图 4.8 取货员接单取货功能顺序图</p>
<h2 id="JSON-接口设计"><a href="#JSON-接口设计" class="headerlink" title="JSON 接口设计"></a>JSON 接口设计</h2><p>用户注册接口，用于用户的注册账户请求，具体如表 4.9 所示。</p>
<p>表 4.9 用户注册接口</p>
<table>
<thead>
<tr>
<th><strong>URL 地址</strong></th>
<th><a target="_blank" rel="noopener" href="http://127.0.0.1:8000/user/register/">http://127.0.0.1:8000/user/register/</a></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>请求参数列表</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>参数名称</strong></td>
<td><strong>是否必须</strong></td>
<td><strong>类型</strong></td>
<td><strong>描述</strong></td>
</tr>
<tr>
<td>username</td>
<td>是</td>
<td>String</td>
<td>用户名</td>
</tr>
<tr>
<td>password</td>
<td>是</td>
<td>String</td>
<td>用户设置密码</td>
</tr>
<tr>
<td>cpassword</td>
<td>是</td>
<td>String</td>
<td>确认密码</td>
</tr>
<tr>
<td><strong>请求类型</strong></td>
<td>POST</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>返回参数类型</strong></td>
<td>JSON</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>返回参数列表</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>参数名称</strong></td>
<td><strong>描述</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>返回消息</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>添加订单接口设计，该接口用于废品回收用户下单。添加订单接口设计如表 4.10</p>
<p>所示。</p>
<p>表 4.10 用户下单接口</p>
<table>
<thead>
<tr>
<th><strong>URL 地址</strong></th>
<th><a target="_blank" rel="noopener" href="http://127.0.0.1:8000/user/order/insert/">http://127.0.0.1:8000/user/order/insert/</a></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>参数列表</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>参数名称</strong></td>
<td><strong>是否必须</strong></td>
<td><strong>类型</strong></td>
<td><strong>描述</strong></td>
</tr>
<tr>
<td>name</td>
<td>是</td>
<td>String</td>
<td>寄件人</td>
</tr>
<tr>
<td>phone</td>
<td>是</td>
<td>String</td>
<td>联系电话</td>
</tr>
</tbody></table>
<p>续表 4.10 用户下单接口</p>
<table>
<thead>
<tr>
<th>addr</th>
<th>是</th>
<th>String</th>
<th>取件地址</th>
</tr>
</thead>
<tbody><tr>
<td>date</td>
<td>是</td>
<td>String</td>
<td>取件日期</td>
</tr>
<tr>
<td>time</td>
<td>是</td>
<td>String</td>
<td>取件时间</td>
</tr>
<tr>
<td>create</td>
<td>是</td>
<td>String</td>
<td>创建日期</td>
</tr>
<tr>
<td>heavy</td>
<td>是</td>
<td>String</td>
<td>废品重量</td>
</tr>
<tr>
<td>type_id</td>
<td>是</td>
<td>String</td>
<td>废品种类</td>
</tr>
<tr>
<td>datail</td>
<td>是</td>
<td>String</td>
<td>用户备注</td>
</tr>
<tr>
<td><strong>请求类型</strong></td>
<td>POST</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>返回参数类型</strong></td>
<td>JSON</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>返回参数列表</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>参数名称</strong></td>
<td><strong>描述</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>返回消息</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="系统实现"><a href="#系统实现" class="headerlink" title="系统实现"></a>系统实现</h1><h2 id="后台功能模块实现"><a href="#后台功能模块实现" class="headerlink" title="后台功能模块实现"></a>后台功能模块实现</h2><p>管理员登入后台管理系统，对用户、商户、取货员、可选废品种类进行增、删、改、查，管理员可认证授权，查看用户评价、商户接单状态、取货员物流更新等功能。</p>
<h3 id="用户账户管理功能模块实现"><a href="#用户账户管理功能模块实现" class="headerlink" title="用户账户管理功能模块实现"></a>用户账户管理功能模块实现</h3><p>管理员登入后台管理系统，对用户账户进行增加，删除，修改和查询功能，用户账户管理页面如图 5.1 所示。</p>
<p><img src="/../pic/media-fp/74979e80b7462770ae509b7ed83eb2fb.jpeg" alt=" "></p>
<p>图 5.1 用户账户管理页面 1</p>
<p>其中相关代码如下所示：</p>
<h3 id="用户订单管理功能模块实现"><a href="#用户订单管理功能模块实现" class="headerlink" title="用户订单管理功能模块实现"></a>用户订单管理功能模块实现</h3><p>管理员登入后台管理系统，对用户订单进行增加，删除，修改和查询功能，用户订单管理页面如图 5.2 所示。</p>
<p><img src="/../pic/media-fp/344bb40423d7d3ac19237bdf18776fa7.jpeg" alt=" "></p>
<p>图 5.2 用户订单管理页面</p>
<p>其中相关代码如下所示：</p>
<h2 id="前台功能模块实现"><a href="#前台功能模块实现" class="headerlink" title="前台功能模块实现"></a>前台功能模块实现</h2><h3 id="用户下单功能模块实现"><a href="#用户下单功能模块实现" class="headerlink" title="用户下单功能模块实现"></a>用户下单功能模块实现</h3><p>用户登入后，可选择回收废品种类、填写重量进行废品回收下单，查看订单状态、进行评价等功能，用户下单页面如图 5.3 所示。</p>
<p><img src="/../pic/media-fp/00e67545776dea2bba11b85729c515dc.png" alt=" "></p>
<p>图 5.3 用户下单页面</p>
<p>其中相关代码如下所示：</p>
<p>def order_insert(request):</p>
<h3 id="商户接单功能模块实现"><a href="#商户接单功能模块实现" class="headerlink" title="商户接单功能模块实现"></a>商户接单功能模块实现</h3><p>商户登入后，进行接单并根据废品种类和重量对其价格评估，对取货员反馈的订单信息确认且支付订单，查看订单状态、查看用户评价等功能，商户接单页面如图 5.4 所示。</p>
<p><img src="/../pic/media-fp/d8625e28bcb9c953b6e91c97c4baae12.png" alt="1650430668(1)"></p>
<p>图 5.4 商户接单页面</p>
<p>其中相关代码如下所示：</p>
<h3 id="用户查看订单信息并评价功能模块实现"><a href="#用户查看订单信息并评价功能模块实现" class="headerlink" title="用户查看订单信息并评价功能模块实现"></a>用户查看订单信息并评价功能模块实现</h3><p>用户登入后，查看订单信息、物流及进行评价功能，用户查看订单信息并评价页面如图 5.5 所示。</p>
<p><img src="/../pic/media-fp/3c0d8723422b8a36c0d43c25d9194ae1.png" alt=" "></p>
<p>图 5.5 用户查看订单信息并评价页面</p>
<h2 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h2><p><a target="_blank" rel="noopener" href="https://xcyyyy19.github.io/code/P5-fp/%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81/program.zip">代码下载链接</a><br><a target="_blank" rel="noopener" href="https://xcyyyy19.github.io/code/P5-fp/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6/fp.sql">数据库下载链接</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/P4-Python网站--盘中餐（Vue结业项目）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/14/Python/P4-Python%E7%BD%91%E7%AB%99--%E7%9B%98%E4%B8%AD%E9%A4%90%EF%BC%88Vue%E7%BB%93%E4%B8%9A%E9%A1%B9%E7%9B%AE%EF%BC%89/"
    >Python网站--盘中餐（Vue结业项目）</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/14/Python/P4-Python%E7%BD%91%E7%AB%99--%E7%9B%98%E4%B8%AD%E9%A4%90%EF%BC%88Vue%E7%BB%93%E4%B8%9A%E9%A1%B9%E7%9B%AE%EF%BC%89/" class="article-date">
  <time datetime="2023-03-14T03:43:00.000Z" itemprop="datePublished">2023-03-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/project/">project</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="基于Django-的“盘中餐”健康饮食网站的设计与实现（附件见文末）"><a href="#基于Django-的“盘中餐”健康饮食网站的设计与实现（附件见文末）" class="headerlink" title="基于Django 的“盘中餐”健康饮食网站的设计与实现（附件见文末）"></a>基于Django 的“盘中餐”健康饮食网站的设计与实现（附件见文末）</h2><h2 id="系统原型"><a href="#系统原型" class="headerlink" title="系统原型"></a>系统原型</h2><p>用户在想要评论的文章详情页面点击评论，系统弹出添加评论窗口，含有两个按钮， 分别对应评论发表成功和重置评论。用户评论文章原型图如下图所示。</p>
<p><img src="/../pic/media-pzc/67be40de8257f28f7e6bd8bf78c6e5e5.jpeg"></p>
<p>用户评论文章原型图</p>
<p>用户进入后台管理页面，在新增每日打卡详情页输入打卡名称、照片、空盘次数、打卡时间等信息进行每日打卡。用户新增每日打卡原型图如下图所示。</p>
<p><img src="/../pic/media-pzc/e1476e996ddfd3bc7ac1934cf1003d94.jpeg"></p>
<p>用户新增每日打卡原型图</p>
<p>管理员在后台管理的食物信息页面，点击对应食物的详情按钮，查看对应食物信息的详情页。管理员查看食物信息原型图如下图所示。</p>
<p><img src="/../pic/media-pzc/313282be30af592bd821fe765042c477.jpeg"></p>
<p>管理员查看食物信息原型图</p>
<p>管理员在后台管理的榜单页面，在修改榜单的详情，修改榜单信息。管理员修改榜单原型图如下图所示。</p>
<p><img src="/../pic/media-pzc/cb54c343d764453b60e94571a48d192b.jpeg"></p>
<p>管理员修改榜单原型图</p>
<h1 id="系统设计"><a href="#系统设计" class="headerlink" title="系统设计"></a>系统设计</h1><h2 id="体系结构设计"><a href="#体系结构设计" class="headerlink" title="体系结构设计"></a>体系结构设计</h2><p>盘中餐健康饮食网站分为前台、用户后台和管理员后台三个部分。前台主要功能包括用户登录注册、查看食物 、查看新闻资讯、查看每日打卡、文章分享等。用户后台负责用户个人中心管理、每日打卡管理和榜单管理。管理员后台负责用户管理、食物类别管理、食物信息管理、每日打卡管理、系统管理等。系统体系结构图aaaaa。</p>
<p><img src="/../pic/media-pzc/2629b3477b3dc434c069857ded0bbc97.jpeg"></p>
<p>体系结构图</p>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><ol>
<li><p><strong>E-R</strong> 图</p>
<p>系统的 E-R 图主要核心从用户角色出发，展示包括用户、每日打卡信息、榜单信息、新闻资讯信息、食物类型信息、食物信息和文章分享信息实体间的联系。数据库设计的E-R 图如下图所示。</p>
</li>
</ol>
<p><img src="/../pic/media-pzc/f1919788f4ccac7886104007acca1d91.jpeg"></p>
<h3 id="表结构设计"><a href="#表结构设计" class="headerlink" title="表结构设计"></a>表结构设计</h3><p>数据库 E-R 图</p>
<p>用户表的字段为创建时间、用户名、姓名、头像、密码等。id 为主键。该表存储用户基本信息用于用户注册，登录等。用户表结构如表所示。</p>
<p>表用户表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>用户 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>yonghuming</td>
<td>用户名</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>xingming</td>
<td>姓名</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>touxiang</td>
<td>头像</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>xingbie</td>
<td>性别</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
</tbody></table>
<p>用户表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>mima</td>
<td>密码</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>shouji</td>
<td>手机</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
</tbody></table>
<p>新闻资讯表的字段为标题、简介、图片、内容等，id 为主键。该表存储新闻资讯的相关信息。新闻资讯表结构如表所示。</p>
<p>表新闻资讯表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>新闻资讯 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>introduction</td>
<td>简介</td>
<td>longtext</td>
<td></td>
</tr>
<tr>
<td>picture</td>
<td>图片</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>content</td>
<td>内容</td>
<td>longtext</td>
<td>NOT NULL</td>
</tr>
</tbody></table>
<p>每日打卡表的字段为打卡编号、打卡名称、空盘次数、打卡时间等，id 为主键。该表用于存储用户每日打卡的相关信息。每日打卡表结构如表所示。</p>
<p>表每日打卡表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>打卡 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>Dakabianhao</td>
<td>打卡编号</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>Dakamingcheng</td>
<td>打卡名称</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>tupian</td>
<td>图片</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>Kongpancishu</td>
<td>空盘次数</td>
<td>int</td>
<td>无</td>
</tr>
<tr>
<td>Dakashijian</td>
<td>打卡时间</td>
<td>datetime</td>
<td>无</td>
</tr>
<tr>
<td>Yonghuming</td>
<td>用户名</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>Xingming</td>
<td>姓名</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>beizhu</td>
<td>备注</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
</tbody></table>
<p>食物信息表的字段为食物名称、食物类型、图片、热量值等，id 为主键。该表存储每个食物的详细信息。食物信息表结构如表所示。</p>
<p>表食物信息表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>食物信息 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>shiwumingcheng</td>
<td>食物名称</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>tupian</td>
<td>图片</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>shiwuleixing</td>
<td>食物类型</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>reliangzhi</td>
<td>热量值</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
</tbody></table>
<p>榜单表的字段为打卡编号、空盘次数、图片、更新时间等，id 为主键。该表存储管理员根据用户的每日打卡信息所发布的榜单中，每个榜单的详细信息。榜单表结构如表</p>
<p> 所示。</p>
<p>表榜单表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>榜单 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>dakabianhao</td>
<td>打卡编号</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>tupian</td>
<td>图片</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>kongpancishu</td>
<td>空盘次数</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>yonghuming</td>
<td>用户名</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>xingming</td>
<td>姓名</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>gengxinshijian</td>
<td>更新时间</td>
<td>date</td>
<td>无</td>
</tr>
</tbody></table>
<p>食物类型表的字段为食物类型和创建时间，id 为主键。该表存储着每个食物类型的详细信息。食物类型表结构如表所示。</p>
<p>表食物类型表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>食物类型 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>shiwuleixing</td>
<td>食物类型</td>
<td>varchar(200)</td>
<td>NOT NULL</td>
</tr>
</tbody></table>
<p>文章分享表的字段为帖子标题、帖子内容、用户 id、状态等，id 为主键。该表存储着每篇文章的详细信息。文章分享表结构如表所示。</p>
<p>表文章分享表</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>名称</th>
<th>数据类型</th>
<th>约束</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>文章 ID</td>
<td>bigint(20)</td>
<td>PK</td>
</tr>
<tr>
<td>addtime</td>
<td>创建时间</td>
<td>timestamp</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>title</td>
<td>帖子标题</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>content</td>
<td>帖子内容</td>
<td>longtext</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>parentid</td>
<td>父节点 id</td>
<td>bignit</td>
<td>无</td>
</tr>
<tr>
<td>userid</td>
<td>用户 id</td>
<td>bignit</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>username</td>
<td>用户名</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
<tr>
<td>isdone</td>
<td>状态</td>
<td>varchar(200)</td>
<td>无</td>
</tr>
</tbody></table>
<h2 id="JSON-接口设计"><a href="#JSON-接口设计" class="headerlink" title="JSON 接口设计"></a>JSON 接口设计</h2><p>网站获取食物类型列表接口设计。该接口用于在前端显示食物类型列表。获取食物类型列表接口设计如表所示。</p>
<p>表获取食物类型列表接口</p>
<table>
<thead>
<tr>
<th>功能说明</th>
<th>获取食物类型列表接口</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>URL</strong> 地址</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/django1q7tt/shiwuleixing/list">http://localhost:8080/django1q7tt/shiwuleixing/list</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>是否必须</td>
<td>类型</td>
<td>描述</td>
</tr>
<tr>
<td>无参数</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>请求类型</td>
<td>POST</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数类型</td>
<td>JSON</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>描述</td>
<td></td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>具体数据</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>网站获取食物信息列表接口设计。该接口用于在前端显示食物信息列表。获取食物信息列表接口设计如表所示。</p>
<p>表获取食物信息列表接口</p>
<table>
<thead>
<tr>
<th>功能说明</th>
<th>获取食物信息列表接口</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>URL</strong> 地址</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/django1q7tt/shiwuxinxi/list">http://localhost:8080/django1q7tt/shiwuxinxi/list</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>是否必须</td>
<td>类型</td>
<td>描述</td>
</tr>
<tr>
<td>无参数</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>请求类型</td>
<td>POST</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数类型</td>
<td>JSON</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>描述</td>
<td></td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>具体数据</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>网站获取每日打卡详细信息接口设计。该接口用于在前端、后端获取每日打卡的详细信息。获取每日打卡详细信息接口设计如表 0 所示。</p>
<p>表 0 获取每日打卡详细信息接口</p>
<table>
<thead>
<tr>
<th>功能说明</th>
<th>获取每日打卡详细信息接口</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>URL</strong> 地址</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> django1q7tt&#x2F; meiridaka&#x2F;detail</td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>是否必须</td>
<td>类型</td>
<td>描述</td>
</tr>
<tr>
<td>id</td>
<td>是</td>
<td>Number</td>
<td>打卡 id</td>
</tr>
<tr>
<td>dakabianhao</td>
<td>否</td>
<td>String</td>
<td>打卡编号</td>
</tr>
<tr>
<td>tupian</td>
<td>否</td>
<td>String</td>
<td>订单状态</td>
</tr>
<tr>
<td>kongpancishu</td>
<td>否</td>
<td>Number</td>
<td>空盘次数</td>
</tr>
<tr>
<td>dakashijian</td>
<td>否</td>
<td>String</td>
<td>打卡时间</td>
</tr>
<tr>
<td>yonghuming</td>
<td>否</td>
<td>String</td>
<td>用户名</td>
</tr>
<tr>
<td>xingming</td>
<td>否</td>
<td>String</td>
<td>姓名</td>
</tr>
<tr>
<td>dakamingcheng</td>
<td>否</td>
<td>String</td>
<td>打卡名称</td>
</tr>
<tr>
<td>beizhu</td>
<td>否</td>
<td>String</td>
<td>备注</td>
</tr>
<tr>
<td>请求类型</td>
<td>POST</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>续表 0 获取每日打卡详细信息接口</p>
<table>
<thead>
<tr>
<th>返回参数类型</th>
<th>JSON</th>
</tr>
</thead>
<tbody><tr>
<td>返回参数列表</td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>描述</td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
</tr>
<tr>
<td>data</td>
<td>具体数据</td>
</tr>
</tbody></table>
<p>网站保存榜单信息接口设计，该接口保存创建或修改好的榜单信息。保存榜单接口设计如表 1 所示。</p>
<p>表 1 保存榜单接口</p>
<table>
<thead>
<tr>
<th>功能说明</th>
<th>保存榜单接口</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>URL</strong> 地址</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/django1q7tt/bangdan/save">http://localhost:8080/django1q7tt/bangdan/save</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>是否必须</td>
<td>类型</td>
<td>描述</td>
</tr>
<tr>
<td>id</td>
<td>是</td>
<td>Number</td>
<td>榜单 id</td>
</tr>
<tr>
<td>dakabianhao</td>
<td>否</td>
<td>String</td>
<td>打卡编号</td>
</tr>
<tr>
<td>tupian</td>
<td>否</td>
<td>String</td>
<td>订单状态</td>
</tr>
<tr>
<td>kongpancishu</td>
<td>否</td>
<td>Number</td>
<td>空盘次数</td>
</tr>
<tr>
<td>yonghuming</td>
<td>否</td>
<td>String</td>
<td>用户名</td>
</tr>
<tr>
<td>xingming</td>
<td>否</td>
<td>String</td>
<td>姓名</td>
</tr>
<tr>
<td>gengxingshijian</td>
<td>否</td>
<td>String</td>
<td>更新时间</td>
</tr>
<tr>
<td>请求类型</td>
<td>POST</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数类型</td>
<td>JSON</td>
<td></td>
<td></td>
</tr>
<tr>
<td>返回参数列表</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>参数名称</td>
<td>描述</td>
<td></td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>数据状态码（成功状态码是 200）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>具体数据</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="系统实现"><a href="#系统实现" class="headerlink" title="系统实现"></a>系统实现</h1><h2 id="后台功能模块实现"><a href="#后台功能模块实现" class="headerlink" title="后台功能模块实现"></a>后台功能模块实现</h2><h3 id="新增食物类型功能模块实现"><a href="#新增食物类型功能模块实现" class="headerlink" title="新增食物类型功能模块实现"></a>新增食物类型功能模块实现</h3><p>新增食物类型功能的实现，前端发送请求后，通过 URL 调用 shiwuleixing 的 list、add 和 save 接口操作后台对 shiwuleixing 数据库表进行增、删、改、查操作，最后将数据逐级返回到前端。查看食物类型列表如下图所示，新增食物类型功能实现如下图所示。</p>
<p><img src="/../pic/media-pzc/49f1599942f4c7756c8f80f9e57a9f7d.jpeg"></p>
<p>查看食物类型列表</p>
<p><img src="/../pic/media-pzc/93d9948d56fbef1c4c62fd9d5c6c6075.jpeg"></p>
<p>新增食物类型功能实现</p>
<p>后台新增食物类型功能代码如下所示：</p>
<h3 id="删除文章分享的帖子功能模块实现"><a href="#删除文章分享的帖子功能模块实现" class="headerlink" title="删除文章分享的帖子功能模块实现"></a>删除文章分享的帖子功能模块实现</h3><p>删除文章分享的帖子功能的实现，前端发送请求后，通过 URL 先调用 forum_page 接口权限为管理员查看 forum 记录，再调用 forum_delete 接口操作后台对 forum 数据库表的信息进行删除操作，最后将数据逐级返回到前端。删除文章分享的帖子功能模块实现如下图所示。</p>
<p><img src="/../pic/media-pzc/1bdfc65ae82daf224f15abdc827dfbe1.jpeg"></p>
<p>删除文章分享的帖子模块实现</p>
<p>删除文章分享的帖子模块功能代码如下所示：</p>
<h3 id="修改每日打卡信息模块实现"><a href="#修改每日打卡信息模块实现" class="headerlink" title="修改每日打卡信息模块实现"></a>修改每日打卡信息模块实现</h3><p>修改每日打卡信息模块的实现，前端发送请求后，通过 URL 调用 meiridaka_update 接口，对从 meiridaka 数据库表中通过 meiridaka_info 接口选定数据的修改，最后将数据逐级返回到前端。修改每日打卡信息功能模块实现如下图所示</p>
<p><img src="/../pic/media-pzc/c465a20dbab11799620e8963a6c38f96.jpeg"></p>
<p>修改每日打卡信息功能实现</p>
<p>修改每日打卡信息模块功能代码如下所示：</p>
<h2 id="前台功能模块实现"><a href="#前台功能模块实现" class="headerlink" title="前台功能模块实现"></a>前台功能模块实现</h2><h3 id="用户查看每日打卡详情功能模块实现"><a href="#用户查看每日打卡详情功能模块实现" class="headerlink" title="用户查看每日打卡详情功能模块实现"></a>用户查看每日打卡详情功能模块实现</h3><p>用户查看每日打卡详情功能的实现，前端发送请求后，通过 URL 调用 meiridaka 的list 和 detail 接口操作后台对 meiridaka 数据库表进行查找查看操作，最后将数据逐级返回到前端。用户查看每日打卡详情功能实现如下图所示。</p>
<p><img src="/../pic/media-pzc/78806c6edc2e45dfe333a6c8f5e71681.jpeg"></p>
<h2 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h2><p><a target="_blank" rel="noopener" href="https://xcyyyy19.github.io/code/P4-pzc/%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81/django.zip">代码下载链接</a><br><a target="_blank" rel="noopener" href="https://xcyyyy19.github.io/code/P4-pzc/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E4%BB%B6django.sql">数据库下载链接</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Python/P3-Python爬虫-数据分析-前后端代码（毕设）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/13/Python/P3-Python%E7%88%AC%E8%99%AB-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%EF%BC%88%E6%AF%95%E8%AE%BE%EF%BC%89/"
    >Python爬虫&amp;数据分析&amp;前后端代码（毕设）【待上传】</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/13/Python/P3-Python%E7%88%AC%E8%99%AB-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%EF%BC%88%E6%AF%95%E8%AE%BE%EF%BC%89/" class="article-date">
  <time datetime="2023-03-13T03:42:35.000Z" itemprop="datePublished">2023-03-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/code/">code</a> / <a class="article-category-link" href="/categories/code/project/">project</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
   
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2023
        <i class="ri-heart-fill heart_icon"></i> LIXiaohan
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
      <li>
          <img src="/images/beian.png"></img>
          <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=01234567890123" target="_black" rel="nofollow">黑公网安备0123456789号</a>
      </li>
        
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src=''></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Pravite Home"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->
 
<script src="/js/clickBoom2.js"></script>
 
<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=22707008&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    
<script>
  const password = "11";
  const lock_password = window.sessionStorage.getItem("lock_password");
  console.log(password, lock_password);
  if (lock_password !== password) {
    Swal.fire({
      title: "请输入访问密码",
      input: "text",
      inputAttributes: {
        autocapitalize: "off",
      },
      showCancelButton: false,
      showLoaderOnConfirm: true,
      allowOutsideClick: false,
      confirmButtonText: "确定",
    }).then((result) => {
      console.log(result);
      if (result.isConfirmed) {
        console.log(password);
        if (result.value === password) {
          window.sessionStorage.setItem("lock_password", result.value);
        } else {
          Swal.fire({
            icon: "error",
            title: "密码错误，请重试",
            confirmButtonText: "确定",
            allowOutsideClick: false,
          }).then(() => {
            window.location.reload();
          });
        }
      }
    });
  }
</script>


  </div>
</body>

</html>